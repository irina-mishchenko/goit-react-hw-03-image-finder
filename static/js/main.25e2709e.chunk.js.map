{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleInput","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","src","alt","name","ImageGalleryItem","showModal","id","toggleModal","imageId","ImageGalleryItemImage","littlePicture","largePicture","baseUrl","key","ImageGallery","images","loader","page","prevProps","prevState","prevValue","nextValue","currentPage","fetch","then","res","json","hits","finally","color","height","width","timeout","map","image","webformatURL","largeImageURL","tags","Button","App","handleFormSubmit","searchValue","handleBtnClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.25e2709e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3H_6W\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2Xx76\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3DmLW\",\"Modal\":\"Modal_Modal__2N2ns\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__w-mpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__wm3bq\"};","import { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleInput = event => {\n    this.setState({\n      inputValue: event.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.inputValue.trim() === '') {\n      alert('Enter the query!');\n      return;\n    }\n\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({ inputValue: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInput}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport propTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\n        <div className={s.Modal}>\n          <img src={this.props.src} alt={this.props.name} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  src: propTypes.string.isRequired,\n  alt: propTypes.string.isRequired,\n  onClose: propTypes.func.isRequired,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport propTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\nimport Modal from './../../Modal/Modal';\n\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n    id: null,\n  };\n\n  toggleModal = imageId => {\n    this.setState(state => ({\n      showModal: !state.showModal,\n      id: imageId,\n    }));\n  };\n\n  render() {\n    return (\n      <>\n        <li className={s.ImageGalleryItem}>\n          <img\n            className={s.ImageGalleryItemImage}\n            src={this.props.littlePicture}\n            alt={this.props.name}\n            onClick={this.toggleModal}\n          />\n        </li>\n        {this.state.showModal && (\n          <Modal\n            src={this.props.largePicture}\n            alt={this.props.name}\n            onClose={this.toggleModal}\n          />\n        )}{' '}\n      </>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  key: propTypes.number.isRequired,\n  littlePicture: propTypes.string.isRequired,\n  largePicture: propTypes.string.isRequired,\n  name: propTypes.string.isRequired,\n  showModal: propTypes.func.isRequired,\n  id: propTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport propTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.css';\n\nconst baseUrl = 'https://pixabay.com/api/';\nconst key = '16370030-8b42ef581aeaa0cd943bdfd1a';\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    loader: false,\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevValue = prevProps.inputValue;\n    const nextValue = this.props.inputValue;\n    const currentPage = this.props.page;\n\n    if (prevValue !== nextValue) {\n      this.setState({ loader: true });\n      fetch(\n        `${baseUrl}?q=${nextValue}&page${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(res => res.json())\n        .then(images => this.setState({ images: images.hits }))\n        .finally(() => this.setState({ loader: false }));\n    }\n\n    if (prevProps.page !== currentPage) {\n      this.setState({ loader: true });\n      fetch(\n        `${baseUrl}?q=${nextValue}&page${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(res => res.json())\n        .then(images =>\n          this.setState({ images: [...this.state.images, ...images.hits] }),\n        );\n    }\n  }\n\n  render() {\n    const images = this.state.images;\n\n    return (\n      <div>\n        {this.state.loader && (\n          <Loader\n            type=\"Puff\"\n            color=\"#3f51b5\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        <ul className={s.ImageGallery}>\n          {images.map(image => (\n            <ImageGalleryItem\n              key={image.id}\n              littlePicture={image.webformatURL}\n              largePicture={image.largeImageURL}\n              name={image.tags}\n              showModal={this.toggleModal}\n              id={image.id}\n            />\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  inputValue: propTypes.string.isRequired,\n  page: propTypes.number.isRequired,\n};\n\nexport default ImageGallery;\n","import propTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: propTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\n\nclass App extends Component {\n  state = {\n    inputValue: '',\n    page: 1,\n  };\n\n  handleFormSubmit = searchValue => {\n    this.setState({ inputValue: searchValue });\n  };\n\n  handleBtnClick = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  render() {\n    const { inputValue, page } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery inputValue={inputValue} page={page} />\n        <Button onClick={this.handleBtnClick} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__P0uF0\",\"SearchForm\":\"Searchbar_SearchForm__NBleb\",\"SearchFormButton\":\"Searchbar_SearchFormButton__8PPmS\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3yTLe\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3EZvN\"};"],"sourceRoot":""}